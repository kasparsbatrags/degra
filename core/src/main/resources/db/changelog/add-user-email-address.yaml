databaseChangeLog:
  - changeSet:
      id: AddUserEmailAddress
      author: Kaspars Batrags
      dbms: postgresql
      changes:
        - createTable:
            tableName: user_email_address
            columns:
              - column:
                  name: id
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
                  remarks: "Ieraksta ID"
              - column:
                  name: user_id
                  type: INT
                  constraints:
                    nullable: false
                  remarks: "Lietotāja identifikators"
              - column:
                  name: email_address
                  type: varchar(254)
                  constraints:
                    nullable: false
                  remarks: "E-pasta adrese"
              - column:
                  name: created_date_time
                  type: timestamp
                  remarks: "Ieraksta izveidošanas laika zīmogs"
              - column:
                  name: last_modified_date_time
                  type: timestamp
                  remarks: "Ieraksta pēdējās labošanas laika zīmogs"

            remarks: "Lietotāju e-pasta adrešu saraksts"

  - changeSet:
      id: ConstraintForeignKeysUserEmailAddressToUser
      author: Kaspars Batrags
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: user_email_address
            constraintName: fk_user_email_address_to_user
            onDelete: NO ACTION
            referencedColumnNames: id
            referencedTableName: user